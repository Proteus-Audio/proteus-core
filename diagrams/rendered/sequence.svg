<svg xmlns="http://www.w3.org/2000/svg" width="2896" height="546" viewBox="0 0 2896 546"><rect x="0" y="0" width="2896" height="546" fill="#FFFFFF"/><defs><marker id="arrow-0" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="1" stroke-dasharray="1,0"/></marker><marker id="arrow-start-0" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="1" stroke-dasharray="1,0"/></marker><marker id="arrow-seq-0" viewBox="-1 0 12 10" refX="7.9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto-start-reverse"><path d="M -1 0 L 10 5 L 0 10 z" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="1" stroke-dasharray="1,0"/></marker><marker id="arrow-start-seq-0" viewBox="-1 0 12 10" refX="2.1" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 11 0 L 0 5 L 11 10 z" fill="#2F3B4D" stroke="#2F3B4D" stroke-width="1" stroke-dasharray="1,0"/></marker></defs><rect x="1841.80" y="209.60" width="912.40" height="168.00" fill="none" stroke="#7B88A8" stroke-width="2.0" stroke-dasharray="2 2"/><polygon points="1841.80,209.60 1911.14,209.60 1911.14,222.60 1897.27,229.60 1841.80,229.60" fill="#ECECFF" stroke="#7B88A8" stroke-width="1.1"/><text x="1876.47" y="223.60" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1876.47" dy="0.00">loop</tspan></text><text x="2298.00" y="224.80" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2298.00" dy="0.00">[realtime mix]</tspan></text><line x1="73.00" y1="64.00" x2="73.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="251.00" y1="64.00" x2="251.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="429.00" y1="64.00" x2="429.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="607.00" y1="64.00" x2="607.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="785.00" y1="64.00" x2="785.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="963.00" y1="64.00" x2="963.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="1141.00" y1="64.00" x2="1141.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="1319.00" y1="64.00" x2="1319.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="1497.00" y1="64.00" x2="1497.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="1675.00" y1="64.00" x2="1675.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="1853.00" y1="64.00" x2="1853.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="2031.00" y1="64.00" x2="2031.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="2209.00" y1="64.00" x2="2209.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="2387.00" y1="64.00" x2="2387.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="2565.00" y1="64.00" x2="2565.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><line x1="2743.00" y1="64.00" x2="2743.00" y2="430.00" stroke="#999999" stroke-width="0.5"/><path d="M 1497.000,99.200 L 1675.000,99.200" fill="none" stroke="#2F3B4D" stroke-width="1.5" marker-end="url(#arrow-seq-0)"   stroke-linecap="round" stroke-linejoin="round" /><text x="1586.00" y="57.60" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1586.00" dy="0.00">create + configure (effects</tspan><tspan x="1586.00" dy="24.00">json or play_settings)</tspan></text><path d="M 1675.000,132.800 L 1853.000,132.800" fill="none" stroke="#2F3B4D" stroke-width="1.5" marker-end="url(#arrow-seq-0)"   stroke-linecap="round" stroke-linejoin="round" /><text x="1764.00" y="115.20" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1764.00" dy="0.00">spawn playback thread</tspan></text><path d="M 1853.000,166.400 L 2031.000,166.400" fill="none" stroke="#2F3B4D" stroke-width="1.5" marker-end="url(#arrow-seq-0)"   stroke-linecap="round" stroke-linejoin="round" /><text x="1942.00" y="148.80" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1942.00" dy="0.00">read tracks + play settings</tspan></text><path d="M 1853.000,200.000 L 2209.000,200.000" fill="none" stroke="#2F3B4D" stroke-width="1.5" marker-end="url(#arrow-seq-0)"   stroke-linecap="round" stroke-linejoin="round" /><text x="2031.00" y="158.40" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2031.00" dy="0.00">spawn per-track decoding</tspan><tspan x="2031.00" dy="24.00">threads</tspan></text><path d="M 2387.000,267.200 L 2565.000,267.200" fill="none" stroke="#2F3B4D" stroke-width="1.5" marker-end="url(#arrow-seq-0)"   stroke-linecap="round" stroke-linejoin="round" /><text x="2476.00" y="225.60" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2476.00" dy="0.00">process interleaved samples</tspan><tspan x="2476.00" dy="24.00">through effect chain</tspan></text><path d="M 2565.000,300.800 L 2387.000,300.800" fill="none" stroke="#2F3B4D" stroke-width="1.5" marker-end="url(#arrow-seq-0)"  stroke-dasharray="3 3" stroke-linecap="round" stroke-linejoin="round" /><text x="2476.00" y="283.20" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2476.00" dy="0.00">processed samples</tspan></text><path d="M 2387.000,334.400 L 1853.000,334.400" fill="none" stroke="#2F3B4D" stroke-width="1.5" marker-end="url(#arrow-seq-0)"  stroke-dasharray="3 3" stroke-linecap="round" stroke-linejoin="round" /><text x="2120.00" y="316.80" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2120.00" dy="0.00">SamplesBuffer + duration</tspan></text><path d="M 1853.000,368.000 L 2743.000,368.000" fill="none" stroke="#2F3B4D" stroke-width="1.5" marker-end="url(#arrow-seq-0)"   stroke-linecap="round" stroke-linejoin="round" /><text x="2298.00" y="350.40" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2298.00" dy="0.00">append buffer</tspan></text><path d="M 1675.000,410.000 L 1497.000,410.000" fill="none" stroke="#2F3B4D" stroke-width="1.5" marker-end="url(#arrow-seq-0)"  stroke-dasharray="3 3" stroke-linecap="round" stroke-linejoin="round" /><text x="1586.00" y="392.40" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1586.00" dy="0.00">playback state/time/metrics</tspan></text><rect x="1432.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="1497.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1497.00" dy="0.00">App</tspan></text><rect x="2144.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="2209.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2209.00" dy="0.00">Buffer</tspan></text><rect x="8.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="73.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="73.00" dy="0.00">App</tspan></text><rect x="2500.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="2565.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2565.00" dy="0.00">DSP</tspan></text><rect x="1788.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="1853.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1853.00" dy="0.00">Engine</tspan></text><rect x="2322.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="2387.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2387.00" dy="0.00">Mix</tspan></text><rect x="1610.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="1675.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1675.00" dy="0.00">Player</tspan></text><rect x="1966.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="2031.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2031.00" dy="0.00">Prot</tspan></text><rect x="2678.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="2743.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2743.00" dy="0.00">Sink</tspan></text><rect x="542.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="607.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="607.00" dy="0.00">Prot</tspan></text><rect x="1076.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="1141.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1141.00" dy="0.00">DSP</tspan></text><rect x="364.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="429.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="429.00" dy="0.00">Engine</tspan></text><rect x="898.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="963.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="963.00" dy="0.00">Mix</tspan></text><rect x="186.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="251.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="251.00" dy="0.00">Player</tspan></text><rect x="1254.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="1319.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1319.00" dy="0.00">Sink</tspan></text><rect x="720.00" y="8.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="785.00" y="40.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="785.00" dy="0.00">Buffer</tspan></text><rect x="8.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="73.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="73.00" dy="0.00">App</tspan></text><rect x="186.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="251.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="251.00" dy="0.00">Player</tspan></text><rect x="364.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="429.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="429.00" dy="0.00">Engine</tspan></text><rect x="542.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="607.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="607.00" dy="0.00">Prot</tspan></text><rect x="720.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="785.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="785.00" dy="0.00">Buffer</tspan></text><rect x="898.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="963.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="963.00" dy="0.00">Mix</tspan></text><rect x="1076.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="1141.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1141.00" dy="0.00">DSP</tspan></text><rect x="1254.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="1319.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1319.00" dy="0.00">Sink</tspan></text><rect x="1432.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="1497.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1497.00" dy="0.00">App</tspan></text><rect x="1610.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="1675.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1675.00" dy="0.00">Player</tspan></text><rect x="1788.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="1853.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="1853.00" dy="0.00">Engine</tspan></text><rect x="1966.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="2031.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2031.00" dy="0.00">Prot</tspan></text><rect x="2144.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="2209.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2209.00" dy="0.00">Buffer</tspan></text><rect x="2322.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="2387.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2387.00" dy="0.00">Mix</tspan></text><rect x="2500.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="2565.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2565.00" dy="0.00">DSP</tspan></text><rect x="2678.00" y="430.00" width="130.00" height="56.00" rx="3" ry="3" fill="#EAEAEA" stroke="#666666" stroke-width="1.0"/><text x="2743.00" y="462.00" text-anchor="middle" font-family="'trebuchet ms', verdana, arial, sans-serif" font-size="16" fill="#333333"><tspan x="2743.00" dy="0.00">Sink</tspan></text></svg>